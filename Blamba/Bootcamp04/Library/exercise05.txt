Refactor posting code to use an AsyncTask

Be sure to update the lifecycle methods to correctly manage references to the Activity
